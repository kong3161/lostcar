<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏£‡∏ñ‡∏´‡∏≤‡∏¢</title>
  <style>
    body {
      font-family: 'Sarabun', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom right, #b31217, #6a0572);
      color: white;
    }
    #map {
      height: 90vh;
      width: 100%;
    }
    h2 {
      text-align: center;
      padding: 1rem;
    }
    .btn-group {
      text-align: center;
      margin: 1rem 0;
    }
    .btn {
      background: white;
      color: black;
      padding: 8px 16px;
      border-radius: 6px;
      text-decoration: none;
      margin: 5px;
      display: inline-block;
    }
  </style>
</head>
<body>
  <h2>üìç ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏∏‡∏î‡∏£‡∏ñ‡∏´‡∏≤‡∏¢</h2>
  <div id="map"></div>
  <div class="btn-group">
    <a class="btn" href="/">üìã ‡πÅ‡∏à‡πâ‡∏á‡∏£‡∏ñ‡∏´‡∏≤‡∏¢</a>
    <a class="btn" href="/search">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</a>
    <a class="btn" href="/dashboard">üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</a>
    <a class="btn" href="/map" style="background: #ddd; font-weight: bold;">üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</a>
  </div>

  <script>
    function initMap() {
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 7,
        center: { lat: 13.987004, lng: 100.614520 }, // ‡∏™‡∏†.‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ô‡πâ‡∏≥‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏á‡∏Å‡∏£‡∏ì‡πå
      });

      const reports = {{ reports | tojson }};
      for (const item of reports) {
        if (item.lat && item.lng) {
          const marker = new google.maps.Marker({
            position: { lat: parseFloat(item.lat), lng: parseFloat(item.lng) },
            map,
            title: item.brand + ' - ' + item.model
          });
        }
      }
    }
  </script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBoKTZGPk5uVn7Pjv_q7osR7xzzB8ZTXnQ&callback=initMap">
  </script>
</body>
</html>